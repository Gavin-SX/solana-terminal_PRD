# Epic 6：交易与狙击执行

## Epic 总览

- **Epic编号与名称**： `#63 [EPIC] 交易与狙击执行`
- **Epic定位与价值**： 本模块是 Solana-Terminal 的**最终价值兑现器与核心竞争力所在**。它将前序模块（代币发现、风险分析、图表研判、钱包追踪）所产生的所有洞察，转化为可一键执行的链上交易动作。其核心价值在于提供**极致的交易速度**、**丰富的执行策略**和**周全的风险控制**，确保用户在瞬息万变的 Memecoin 市场中能够精准、快速且安全地完成“从分析到行动”的闭环。
- **成功指标**：
    - 从代币页面点击到交易面板调起的平均耗时。
    - 用户自定义交易预设的使用率。
    - 狙击交易（毕业时）的成功率与平均执行速度。

## Epic 拆解

### #63 [EPIC] 交易与狙击执行

- **定位**： 平台内所有交易相关功能的集合总纲，覆盖从快速设置到复杂订单的全套执行方案。
- **详细描述**： 本模块集成了从最基础的“一键买卖”到高级的“自动化策略交易”的完整工具箱。它深度嵌入在代币详情页、列表页等多个上下文中，确保用户在任何决策点都能获得无缝的交易体验。
- **下级功能**：
    - `#64` 毕业时一键狙击
    - `#65` 狙击金额预设
    - `#66` 一键买入/卖出
    - `#67` 滑点配置
    - `#68` 优先手续费选择
    - `#69` 代币列表行快速交易按钮
    - `#70` 交易预设 UI
    - `#71` 限价单
    - `#72` 止损单
    - `#73` MEV 防护开关
    - `#74` 自动调整优先手续费

---

### #64 毕业时一键狙击 & #66 一键买入/卖出

- **优先级**： `P0`
- **定位**： 在关键市场节点（如代币毕业）或日常浏览中，提供最快速的交易触发入口。
- **详细描述**： 在代币详情页的显著位置（通常在图表旁）设置明确的 **“买入”**、**“卖出”** 按钮。对于处于“即将毕业”状态的代币，此按钮可强化为 **“狙击”** 模式，强调其时效性与紧迫性。点击后直接唤起快速交易面板，最大限度缩短操作路径。
- **下级功能/组件关键词**：
    - `组件-主交易按钮（买入/卖出/狙击）`
    - `上下文-代币状态（即将毕业）`
    - `交互-点击唤起快速交易面板`

### #65 狙击金额预设 & #69 代币列表行快速交易按钮

- **优先级**： `P0`
- **定位**： 为高频交易场景提供免输入、一键式的金额输入与执行方式。
- **详细描述**：
    1.  **金额预设**：在快速交易面板中，提供常用的SOL数量按钮（如 `0.01`, `0.1`, `0.5`, `1`），用户点击即可设定投入金额，无需手动输入。
    2.  **列表行交易**：在代币发现列表的每一行，内嵌紧凑的 **“买入”按钮** 或 **“进度条”**（对于Pump.fun类代币），允许用户不进入详情页就直接发起小额交易。
- **下级功能/组件关键词**：
    - `组件-金额预设按钮（0.01, 0.1, 0.5, 1 SOL）`
    - `组件-列表行内嵌交易按钮`
    - `组件-进度条快捷买入（适用于Bonding Curve）`

### #70 交易预设 UI

- **优先级**： `P1`
- **定位**： 允许用户创建并快速切换多套预配置的交易参数方案，以适应不同市场环境和策略。
- **详细描述**： 提供如 **“P1”**、**“P2”**、**“P3”** 的预设方案标签。每套方案可独立配置其`滑点`、`优先费`、`防MEV`等参数。用户在不同场景（如激进狙击、稳健买入）下可一键切换整套设置。
- **下级功能/组件关键词**：
    - `组件-预设方案标签（P1/P2/P3）`
    - `配置-每套方案的独立参数集`
    - `操作-预设方案切换`

### #67 滑点配置

- **优先级**： `P0`
- **定位**： 控制交易所能接受的最大价格偏差，平衡成交成功率与成本。
- **详细描述**： 在交易设置中，用户可为每笔交易或每个预设方案设置滑点容忍度（如 `30%`）。较高的滑点在市场波动大时有助于成交，但可能带来较大成本；较低的滑点则相反。
- **下级功能/组件关键词**：
    - `输入/选择-滑点容忍百分比`
    - `配置-关联至交易预设`

### #68 优先手续费选择 & #74 自动调整优先手续费

- **优先级**： `P0`
- **定位**： 通过支付额外费用来争夺区块空间，确保交易在链上被优先处理，这对狙击成功至关重要。
- **详细描述**：
    1.  **手动选择**：用户可以手动设置 **“优先费”** 的SOL金额（如 `0.0072 SOL`）。
    2.  **自动调整**：系统可根据实时网络拥堵情况，提供一个推荐值或自动设置为一个 **“最大”** 值（如 `最大: 2 SOL`），在用户设定的范围内动态优化。
- **下级功能/组件关键词**：
    - `输入-优先费用金额（SOL）`
    - `开关-自动调整优先费`
    - `设置-优先费最大值`
    - `数据-网络拥堵状态`

### #73 MEV 防护开关

- **优先级**： `P1`
- **定位**： 启用额外机制以降低交易被MEV机器人（如三明治攻击）侵害的风险。
- **详细描述**： 在交易设置中提供一个 **“防夹”** 开关。开启后，交易可能会通过私有交易池等机制发送，或附加其他防护策略，以保护用户免受抢跑和三明治攻击，但这可能增加少量成本或轻微延迟。
- **下级功能/组件关键词**：
    - `开关-防夹（MEV防护）`
    - `策略-私有交易池`
    - `成本-额外防护费用`

### #71 限价单 & #72 止损单

- **优先级**： `P1`
- **定位**： 提供条件订单功能，实现自动化交易策略，无需实时盯盘。
- **详细描述**：
    1.  **限价单**：允许用户设定一个高于或低于当前市场的**目标价格**，当市场价格达到该价位时，系统自动执行买入或卖出。
    2.  **止损单**：允许用户设定一个**止损价格**和**止损比例**（如 `-10%`），当市场价格跌至该点位时，自动执行卖出以控制亏损。可扩展为 **“追踪止损”**，根据价格高点动态调整止损线。
- **下级功能/组件关键词**：
    - `订单类型-限价单/止损单`
    - `输入-目标价格/止损价格/止损比例`
    - `功能-追踪止损`
    - `组件-订单管理列表（活跃订单/历史订单）`

### **跨功能集成组件**

- **快速交易面板**：
    - `组件-交易面板`：包含数量输入、金额预设、买卖按钮、高级设置展开入口。
    - `信息-余额：0.006 SOL`：实时显示当前钱包可用资金。
    - `信息-兑换率：1 SOL ≈ 2M [代币]`：动态显示预估可兑换数量。
- **高级策略面板**：
    - `组件-策略选择`：如 **“迁移自动卖”**、**“自动交易”**、**“移动平均线”** 策略开关。
    - `设置-策略参数`：为每种自动化策略配置具体参数。
- **交易活动流**：
    - `组件-活动列表`：在代币详情页以表格形式实时展示该代币的链上交易，列包括：**时间、类型（买入/卖出）、市值、数量、总额 USD、Gas费用、交易者（钱包地址）**。
    - `筛选-活动类型`：可筛选查看 **全部、KOL、聪明钱、鲸鱼、狙击手** 等不同标签钱包的交易。

