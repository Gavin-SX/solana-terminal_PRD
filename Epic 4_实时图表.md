# Epic 4：实时图表

## Epic 总览

- **Epic编号与名称**： `#38 [EPIC] 实时图表`
- **Epic定位与价值**： 本模块是 Solana-Terminal 的**核心决策看板**。它不仅仅是价格展示工具，更致力于将链上数据（交易、钱包行为）与专业价格图表深度融合，为用户提供“一眼看清”盘面故事的可视化能力。目标是成为连接代币发现、风险分析与交易执行的**中央可视化界面**。
- **成功指标**：
    - 用户查看代币时，图表页面的打开率 > 90%。
    - 通过图表气泡或聪明钱图层发现交易机会的用户占比。
    - 图表数据延迟 < 1.5秒。

## Epic 拆解

### #38 [EPIC] 实时图表

- **定位**： 实时图表模块的总纲与容器，负责整合第三方专业图表与平台独有的链上可视化层，形成统一的交互体验。
- **详细描述**： 此Epic是用户进行技术分析和链上行为观察的主界面。它需要承载两个核心层面：1) 专业的K线价格图表；2) 覆盖在价格之上的、平台自定义的链上交易活动图层（如交易气泡）。所有功能都围绕这个统一的“画布”展开。
- **下级功能**：
    - `#39` TradingView 图表集成
    - `#40` OHLCV K 线
    - `#41` 实时 K 线更新
    - `#42` 成交量展示
    - `#43` 交易气泡图
    - `#44` 气泡大小映射
    - `#45` 气泡悬浮信息
    - `#46` 聪明钱叠加层
    - `#47` 点击气泡 → 钱包历史

---

### #39 TradingView 图表集成

- **优先级**： `P0`
- **定位**： 集成行业标准的专业图表库，作为技术分析的基石。
- **详细描述**： 在终端页面中央主要区域，嵌入 TradingView 的高级图表组件。用户可以使用其全部主流功能，如绘制趋势线、添加技术指标（MACD, RSI等）、切换时间周期。这是用户分析价格趋势和形态的基础工具。
- **对齐GMGN**： 对应GMGN界面中央最大的那个图表区域，其工具栏、指标选择器、周期切换按钮均来自 TradingView。
- **下级功能/组件关键词**：
    - `组件-图表容器`
    - `配置-主题样式（深色/浅色）`
    - `功能-技术指标库`
    - `功能-绘图工具`

### #40 OHLCV K 线

- **优先级**： `P0`
- **定位**： 为专业图表提供标准化的价格与成交量数据。
- **详细描述**： 将 Solana 链上产生的连续交易数据，按选定时间周期（1分钟、5分钟、1小时等）聚合为标准的K线（蜡烛图）数据，包括开盘价、最高价、最低价、收盘价和成交量。这是 `#39` 图表能够正确显示的基础。
- **下级功能/组件关键词**：
    - `数据-K线聚合`
    - `周期-1m/5m/15m/1h/4h/1d`

### #41 实时 K 线更新

- **优先级**： `P0`
- **定位**： 确保图表价格随市场交易实时变动，无延迟感。
- **详细描述**： 当有新的链上交易发生时，当前正在形成的K线（例如当前这1分钟的K线）应立即更新其最高价、最低价、收盘价和成交量，并在图表上动态“生长”。而不是等到1分钟结束后才刷新下一根。
- **对齐GMGN**： 在GMGN图表上观察，价格线是连续平滑移动的，而非僵硬的阶梯式跳动。
- **下级功能/组件关键词**：
    - `流-实时交易数据`
    - `更新-动态K线`

### #42 成交量展示

- **优先级**： `P0`
- **定位**： 在价格图表下方展示成交量，辅助判断价格变动的有效性。
- **详细描述**： 成交量以柱状图形式显示在K线图下方，与每一根K线的时间周期对齐。通常配合颜色（上涨为绿，下跌为红）让用户快速识别放量或缩量区间。
- **对齐GMGN**： 图表主区域下方伴随价格K线出现的彩色柱子即是成交量图。
- **下级功能/组件关键词**：
    - `副图-成交量`
    - `映射-涨跌颜色`

### #43 交易气泡图

- **优先级**： `P0`
- **定位**： **核心差异化功能**。将抽象的链上交易数据转化为图表上可视的“气泡”，直观展示每一笔买卖的发生。
- **详细描述**： 在专业价格图表（K线图）之上，叠加一层可视化图形。每一笔链上交易都会在对应的成交时间和价格位置，绘制一个“气泡”。这使用户能超越K线的聚合视角，直接看到市场微观的买卖分布和密集成交区。
- **对齐GMGN**： GMGN图表上那些分散的、大小不一的圆点就是交易气泡，它们覆盖在K线图上。
- **下级功能/组件关键词**：
    - `图层-叠加层`
    - `元素-交易气泡`
    - `映射-时间与价格`

### #44 气泡大小映射

- **优先级**： `P1`
- **定位**： 定义交易气泡的视觉大小所代表的含义，快速识别大额交易。
- **详细描述**： 气泡的大小不应是固定的，而应与交易的某个属性挂钩。默认情况下，交易金额（以SOL或USD计）越大，气泡的视觉面积就越大。这能让“巨鲸交易”或“主力买卖”在图表上一目了然。
- **对齐GMGN**： 观察GMGN图表，明显有些气泡很大，有些很小，这通常就对应着交易金额的差异。
- **下级功能/组件关键词**：
    - `视觉编码-大小`
    - `映射规则-交易金额`

### #45 气泡悬浮信息

- **优先级**： `P1`
- **定位**： 提供交易气泡的详细数据查看入口。
- **详细描述**： 当用户将鼠标光标悬停在一个交易气泡上时，应弹出一个简要的信息卡片。卡片内显示该笔交易的核心信息：精确时间、成交价格、交易金额、涉及代币数量、买卖方向以及交易者钱包地址（缩写）。
- **对齐GMGN**： 在GMGN上将鼠标放在一个气泡上，会显示一个包含 `5AV1...BAGS` 这类地址信息的提示框。
- **下级功能/组件关键词**：
    - `交互-悬停`
    - `组件-信息提示框`
    - `信息-时间/价格/金额/地址`

### #46 聪明钱叠加层

- **优先级**： `P1`
- **定位**： 高亮标记“聪明钱”钱包的交易行为，辅助用户跟随高手。
- **详细描述**： 此功能是 `#43` 交易气泡图的增强滤镜。平台内追踪的“聪明钱”地址（来自Epic 5）所发生的交易，其气泡会以**特殊的、高亮的样式**（如不同的颜色、发光边框）显示。用户可一键开关此图层，专注于观察这些关键地址的动向。
- **对齐GMGN**： GMGN上部分气泡有特殊颜色或高亮效果，可能就是聪明钱标识（需结合其钱包追踪功能判断）。
- **下级功能/组件关键词**：
    - `过滤-聪明钱地址`
    - `视觉-高亮样式`
    - `控制-图层开关`

### #47 点击气泡 → 钱包历史

- **优先级**： `P2`
- **定位**： 实现从单笔交易洞察到钱包全面分析的深度钻取。
- **详细描述**： 当用户点击某个交易气泡时，不应仅显示悬浮信息，而应提供更深入的行动点。核心操作是：**点击后，跳转到该笔交易发起者的钱包详情页面**。这形成了从“发现一笔有趣交易”到“研究这个交易者是谁、他还有什么持仓和历史”的完整分析闭环。
- **下级功能/组件关键词**：
    - `交互-点击`
    - `导航-钱包详情页`
    - `参数-钱包地址`

